<?xml version="1.0" encoding="UTF-8"?>
<manifest>

  <remote  name="aosp"
           fetch=".."
           review="https://android-review.googlesource.com/" />
  <default revision="emu-dev"
           remote="aosp"
           sync-j="4" />

  <superproject name="platform/superproject" remote="aosp"/>
  <contactinfo bugurl="go/repo-bug" />


  <!-- Qemu Dependencies -->
  <project path="external/dtc" name="platform/external/dtc" clone-depth="1" />
  <project path="external/glib" name="platform/external/bluetooth/glib" clone-depth="1" />
  <project path="external/libpng" name="platform/external/libpng" clone-depth="1" />
  <project path="external/pcre2" name="platform/external/pcre" clone-depth="1" />
  <project path="external/pixman" name="platform/external/pixman" clone-depth="1" />
  <project path="external/qemu" name="platform/external/qemu" />
  <project path="external/zlib" name="platform/external/zlib" clone-depth="1" />
  <project path="external/lz4" name="platform/external/lz4" clone-depth="1" />
  <project path="external/keycodemapdb" name="trusty/external/qemu-keycodemapdb" revision="main" clone-depth="1" />
  <project path="external/libslirp" name="trusty/external/qemu-libslirp" clone-depth="1" />

  <!-- Qemu Rutabaga -->
  <project path="external/crosvm" name="platform/external/crosvm" clone-depth="1" />
  <project path="external/minigbm" name="platform/external/minigbm" revision="main" clone-depth="1" />
  <project path="external/minijail" name="platform/external/minijail" revision="main" clone-depth="1" />
  <project path="external/virglrenderer" name="platform/external/virglrenderer" revision="main" clone-depth="1" />

  <!-- GFXstream -->
  <project path="hardware/google/aemu" name="platform/hardware/google/aemu" revision="main" />
  <project path="hardware/google/gfxstream" name="platform/hardware/google/gfxstream" revision="main" />
  <project path="external/libdrm" name="platform/external/libdrm" clone-depth="1" />
  <project path="external/libpciaccess" name="platform/external/libpciaccess" clone-depth="1" />
  <project path="external/flatbuffers" name="platform/external/flatbuffers" revision="main" clone-depth="1" />
  <project path="external/angle" name="platform/external/angle" clone-depth="1" />

  <!-- Rutubaga rust dependencies -->
  <project path="external/rust/android-crates-io" name="platform/external/rust/android-crates-io" clone-depth="1" revision="main" />

  <!-- Modem simulation is delivered from cuttlefish -->
  <project name="device/google/cuttlefish" path="device/google/cuttlefish" revision="main"/>

  <!-- Android Emulator shared library plugin -->
  <project path="hardware/generic/goldfish" name="platform/hardware/generic/goldfish">
      <!-- Visual Code Workspace -->
      <linkfile src="development/.vscode" dest=".vscode" />
      <linkfile src="development/emu-dev.code-workspace" dest="emu-dev.code-workspace" />
  </project>

  <project path="external/abseil-cpp" name="platform/external/abseil-cpp" clone-depth="1"/>
  <project path="external/boringssl" name="platform/external/boringssl" revision="main" clone-depth="1"/>
  <project path="external/cares" name="platform/external/c-ares" clone-depth="1"/>
  <project path="external/grpc" name="platform/external/grpc-grpc" clone-depth="1"/>
  <project path="external/protobuf" name="platform/external/protobuf" clone-depth="1"/>
  <project path="external/tink" name="platform/external/tink" clone-depth="1"/>

  <!-- Crash reporting infrastructure -->
  <project path="external/google-breakpad" name="platform/external/google-breakpad" clone-depth="1" revision="emu-master-dev"/>
  <project path="external/crashpad" name="platform/external/crashpad" clone-depth="1" />

  <!-- Webrtc and dependencies -->
  <project path="external/jsoncpp" name="platform/external/jsoncpp" clone-depth="1" revision="main" />
  <project path="external/libaom" name="platform/external/libaom" clone-depth="1"/>
  <project path="external/libjpeg-turbo" name="platform/external/libjpeg-turbo" clone-depth="1"/>
  <project path="external/libvpx" name="platform/external/libvpx" clone-depth="1"/>
  <project path="external/libyuv" name="platform/external/libyuv" clone-depth="1"/>
  <project path="external/nasm" name="platform/external/nasm" clone-depth="1"/>
  <project path="external/perfetto" name="platform/external/perfetto" clone-depth="1" revision="main" />
  <project path="external/pffft" name="platform/external/pffft" clone-depth="1"/>
  <project path="external/rnnoise" name="platform/external/rnnoise" clone-depth="1"/>
  <project path="external/webrtc" name="platform/external/webrtc" clone-depth="1"/>

  <!-- Testing -->
  <project path="external/googletest" name="platform/external/googletest" revision="main" clone-depth="1" />
  <project path="external/google-benchmark" name="platform/external/google-benchmark" revision="main" clone-depth="1" />
  <project path="external/regex-re2" name="platform/external/regex-re2" revision="main" clone-depth="1" />

  <!-- Toolchain and build related definitions -->
  <project path="build/bazel" name="platform/build/bazel">
    <linkfile src="toplevel.MODULE.bazel" dest="MODULE.bazel" />
    <linkfile src="toplevel.MODULE.bazel.lock" dest="MODULE.bazel.lock" />
    <linkfile src="toplevel.WORKSPACE" dest="WORKSPACE" />
    <linkfile src="toplevel.bazelrc" dest=".bazelrc" />
    <linkfile src="toplevel.bazelversion" dest=".bazelversion" />
  </project>
  <project path="build/make" name="platform/build" clone-depth="1" />
  <project path="external/meson" name="trusty/external/qemu-meson" />
  <project path="external/pkg-config" name="platform/external/pkg-config" clone-depth="1" />
  <project path="prebuilts/android-emulator-build/common" name="platform/prebuilts/android-emulator-build/common" revision="emu-master-dev" clone-depth="1" />
  <project path="prebuilts/android-emulator-build/qemu-android-deps" name="platform/prebuilts/android-emulator-build/qemu-android-deps" clone-depth="1" />
  <project path="prebuilts/build-tools" name="platform/prebuilts/build-tools" revision="main" clone-depth="1" groups="notdefault,platform-linux,platform-darwin"/>
  <project path="tools/buildSrc" name="platform/tools/buildSrc" />

  <!-- Repo hooks -->
  <project path="tools/repohooks" name="platform/tools/repohooks" groups="developers,tools" />
  <repo-hooks in-project="platform/tools/repohooks" enabled-list="pre-upload" />

  <!-- Rust compiler toolchain -->
  <project path="prebuilts/rust" name="platform/prebuilts/rust" clone-depth="1" revision="main"/>



  <!-- Note that for all the toolchains below we create a symlink to the toolchain of interest in prebuilts/tools
     this will allow our IDE's to find the current toolchain under prebuilts/tools/... regardless of the platform
     as we are using platform selection to make sure there is no overlap
  -->


  <!-- Linux only toolchain dependencies -->
  <project path="prebuilts/bazel/linux-x86_64" name="platform/prebuilts/bazel/linux-x86_64" clone-depth="1" groups="notdefault,platform-linux">
    <linkfile src="." dest="prebuilts/tools/bazel"/>
  </project>
  <project path="prebuilts/clang/host/linux-x86" name="platform/prebuilts/clang/host/linux-x86" clone-depth="1" revision="main" groups="notdefault,platform-linux">
    <linkfile src="." dest="prebuilts/tools/clang"/>
  </project>
  <project path="prebuilts/cmake/linux-x86" name="platform/prebuilts/cmake/linux-x86" clone-depth="1" groups="notdefault,platform-linux"/>
  <project path="prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8" name="platform/prebuilts/gcc/linux-x86/host/x86_64-linux-glibc2.17-4.8" clone-depth="1" revision="main" groups="notdefault,platform-linux"/>
  <project path="prebuilts/python/linux-x86" name="platform/prebuilts/python/linux-x86" clone-depth="1" revision="3665e3a3bd0cd0d93f6247eb596938cea48268be" groups="notdefault,platform-linux"/>

  <!-- Windows only toolchain dependencies -->
  <project path="prebuilts/bazel/windows-x86_64" name="platform/prebuilts/bazel/windows-x86_64" clone-depth="1" groups="notdefault,platform-windows">
    <linkfile src="." dest="prebuilts/tools/bazel"/>
  </project>
  <project path="prebuilts/clang/host/windows-x86" name="platform/prebuilts/clang/host/windows-x86" clone-depth="1" revision="main" groups="notdefault,platform-windows">
    <linkfile src="." dest="prebuilts/tools/clang"/>
  </project>
  <project path="prebuilts/cmake/windows-x86" name="platform/prebuilts/cmake/windows-x86" clone-depth="1" groups="notdefault,platform-windows"/>
  <project path="prebuilts/python/windows-x86" name="platform/prebuilts/python/windows-x86" clone-depth="1" revision="7119932cd3cea23f16db62e683b69c23e415ff09" groups="notdefault,platform-windows"/>
  <project path="prebuilts/gcc/linux-x86/host/x86_64-w64-mingw32-4.8" name="platform/prebuilts/gcc/linux-x86/host/x86_64-w64-mingw32-4.8" revision="main" clone-depth="1" groups="notdefault,platform-windows"/>

  <!-- Darwin (macos) only toolchain dependencies -->
  <project path="prebuilts/bazel/darwin-x86_64" name="platform/prebuilts/bazel/darwin-x86_64" clone-depth="1" groups="notdefault,platform-darwin">
    <linkfile src="." dest="prebuilts/tools/bazel"/>
  </project>
  <project path="prebuilts/clang/host/darwin-x86" name="platform/prebuilts/clang/host/darwin-x86" clone-depth="1" revision="main" groups="notdefault,platform-darwin">
    <linkfile src="." dest="prebuilts/tools/clang"/>
  </project>
  <project path="prebuilts/cmake/darwin-x86" name="platform/prebuilts/cmake/darwin-x86" clone-depth="1" groups="notdefault,platform-darwin"/>
  <project path="prebuilts/python/darwin-x86" name="platform/prebuilts/python/darwin-x86" clone-depth="1" revision="8a7b323c92153acc4390bf71392dec2dbb10f4f5" groups="notdefault,platform-darwin"/>
</manifest>
